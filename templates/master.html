{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Apple Nepal{% endblock %}</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="{% static 'styles.css' %}" rel="stylesheet" />
    {% block extra_head %}{% endblock %}
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="{% url 'home' %}">Apple Nepal</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <div class="navbar-nav ms-auto">
            <a
              class="nav-link {% block nav_home_active %}{% endblock %}"
              href="{% url 'home' %}"
              >Home</a
            >
            <a
              class="nav-link {% block nav_products_active %}{% endblock %}"
              href="{% url 'products' %}"
              >Products</a
            >
            <a
              class="nav-link {% block nav_categories_active %}{% endblock %}"
              href="{% url 'categories' %}"
              >Categories</a
            >
            <a
              class="nav-link {% block nav_accounts_active %}{% endblock %}"
              href="{% url 'signup' %}"
              >Accounts</a
            >

            {% if user.is_superuser %}
            <a
              class="nav-link {% block nav_add-products_active %}{% endblock %}"
              href="{% url 'add-products' %}"
              >Add Products</a
            >

            {% endif %}
          </div>
        </div>
      </div>
      <div class="user-auth-status p-2 bg-light border-bottom">
        <div class="container d-flex align-items-center justify-content-end">
          {% if user.is_authenticated %}
          <p class="mb-0 me-3">{{ user.username }}!</p>

          <form
            action="{% url 'logout' %}"
            method="post"
            class="d-inline-block"
          >
            {% csrf_token %}
            <button type="submit" class="btn btn-sm btn-outline-secondary">
              Log Out
            </button>
          </form>
          {% else %}
          <p class="mb-0 me-3">You are not signed in.</p>
          <a href="{% url 'login' %}" class="btn btn-sm btn-outline-secondary"
            >Sign In</a
          >
          {% endif %}
        </div>
      </div>
    </nav>

    <div class="main-content">{% block content %} {% endblock %}</div>

    <footer class="bg-dark text-white py-4">
      <div class="container text-center">
        <p>&copy; 2025 Apple Nepal. All rights reserved.</p>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    {% block extra_js %}{% endblock %}
  </body>
</html>
