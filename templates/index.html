{% extends "master.html" %}
{% load humanize %}<-- SNIPPET STARTS -->

{% block title %}Home - Apple Nepal{% endblock %}

{% block nav_home_active %}active{% endblock %}

{% block content %}
<div id="carousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button
            type="button"
            data-bs-target="#carousel"
            data-bs-slide-to="0"
            aria-label="Slide 1"
        ></button>
        <button
            type="button"
            data-bs-target="#carousel"
            data-bs-slide-to="1"
            aria-label="Slide 2"
        ></button>
        <button
            type="button"
            data-bs-target="#carousel"
            data-bs-slide-to="2"
            class="active"
            aria-current="true"
            aria-label="Slide 3"
        ></button>
    </div>

    <div class="carousel-inner">
        <div class="carousel-item active">
            <img
                src="https://evostore.com.np/image/catalog/NEW%20UPDATE/AWU3-Coming-Soon.webp"
                class="d-block w-100 carousel-image-fixed"
                alt="Apple Watch Ultra 3"
            />
        </div>

        <div class="carousel-item">
            <img
                src="https://evostore.com.np/image/catalog/NEW%20UPDATE/AWS11-Coming-Soon.webp"
                class="d-block w-100 carousel-image-fixed"
                alt="Apple Watch Series 11"
            />
        </div>

        <div class="carousel-item">
            <img
                src="https://evostore.com.np/image/catalog/MacBook-Pro-M5-CS.webp"
                class="d-block w-100 carousel-image-fixed"
                alt="MacBook Pro M5"
            />
        </div>
    </div>

    <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#carousel"
        data-bs-slide="prev"
    >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#carousel"
        data-bs-slide="next"
    >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

<div class="container my-5">
    <div class="text-center mb-5">
        <h2 class="display-6 fw-bold mb-2">Featured Products</h2>
        <p class="lead text-muted">Discover our latest Apple products</p>
    </div>
    <div class="row g-4 d-flex align-items-stretch">
        {% for product in featured_products %}
        <div class="col-md-3 d-flex">
            <div class="card h-100 product-card">
                <img
                    src="{% if product.product_image_url %}{{ product.product_image_url }}{% elif product.product_image %}{{ product.product_image.url }}{% else %}/static/images/placeholder.png{% endif %}"
                    class="card-img-top"
                    alt="{{ product.product_name }}"
                />
                <div class="card-body">
                    <h5 class="card-title">{{ product.product_name }}</h5>
                    <p class="card-text">
                        {{ product.product_details|truncatechars:100 }}
                    </p>
                    <p class="text-primary fw-bold">
                        NPR. {{ product.product_price|intcomma }}
                    </p>
                </div>
                <div class="p-3">
                    <a
                        href="{% url 'product-details' product.product_id %}"
                        class="btn btn-primary w-100"
                        >View Details</a
                    >
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}